<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom"

     xmlns:yandex="http://news.yandex.ru"
     xmlns:turbo="http://turbo.yandex.ru"

     version="2.0">
    <channel>
        <title>Блог TinyOps</title>
        <link>https:&#x2F;&#x2F;b.tinyops.ru</link>
        <description>О технологиях, подходах и решении проблем простым языком</description>
        <generator>Zola</generator>
        <language>ru</language>
        <atom:link href="https:&#x2F;&#x2F;b.tinyops.ru/rss.xml" rel="self" type="application/rss+xml"/>
        <lastBuildDate>2020-09-30</lastBuildDate>

        
        <turbo:analytics type="Yandex"
                         id="56992924"
                         params="{}"></turbo:analytics>
        

        
        <item
            
                turbo="true"
            
            >
            <title>Как собрать старый Golang-проект с определённой версией зависимости</title>
            <pubDate>2020-09-30</pubDate>
            <link>https:&#x2F;&#x2F;b.tinyops.ru/how-to-build-golang-with-dep-version</link>
            <guid>https:&#x2F;&#x2F;b.tinyops.ru/how-to-build-golang-with-dep-version</guid>
            <description>Собираем проект для Golang без фичи с модулями и указанием специальной версии одной из зависимостей.</description>
            
                <turbo:source></turbo:source>
                <turbo:topic></turbo:topic>
                <metrics>
                    <yandex schema_identifier="56992924">
                        <breadcrumblist>
                            <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/" text="Главная"/>

                            
                            <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/categories/development" text="Категория development"/>
                            
                            <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/categories/golang" text="Категория golang"/>
                            

                            
                                <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/tags/golang" text="Тэг golang"/>
                            
                                <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/tags/development" text="Тэг development"/>
                            
                                <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/tags/devops" text="Тэг devops"/>
                            

                            <breadcrumb url="https:&#x2F;&#x2F;b.tinyops.ru/how-to-build-golang-with-dep-version" text="Как собрать старый Golang-проект с определённой версией зависимости"/>
                        </breadcrumblist>
                    </yandex>
                </metrics>
                <yandex:related></yandex:related>
                <turbo:content>
                    &lt;p&gt;Возникла задача дописать фичу для утилиты написанной на Go 1.7. Одно из требований к утилите было то что она должна была
работать под Windows Server 2008 (без R2). К сожалению, более новые версии Go, в том числе те, в которые завезли модули,
использовать было нельзя. В отличие от Rust в Go старых версий с зависимостями всё было сделано плохо.&lt;&#x2F;p&gt;
&lt;p&gt;Нельзя было как в Rust просто указать какую версию зависимости ты хочешь. Поэтому в этой статье опишу как максимально 
просто решить эту проблему.&lt;&#x2F;p&gt;
&lt;p&gt;Итак, для проекта была нужна библиотека &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;cavaliercoder&#x2F;grab&quot;&gt;grab&lt;&#x2F;a&gt;. 
С последнего мартовского коммита в проект &lt;code&gt;master&lt;&#x2F;code&gt; этой библиотеки само собой убежал и попутно поломал совместимость.
Проект перестал собираться.&lt;&#x2F;p&gt;
&lt;p&gt;Чтобы подсунуть необходимую версию нужно в &lt;code&gt;%GOPATH%&#x2F;src&#x2F;github.com&#x2F;cavaliercoder&lt;&#x2F;code&gt; 
клонировать стабильную версию с нужным тэгом. В данном случае нужен был &lt;code&gt;2.0.0&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Удаляем каталог &lt;code&gt;grab&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Клонируем с тэгом 2.0.0:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;span style=&quot;color:#c0c5ce;&quot;&gt;git clone --depth 1 --branch v2.0.0 https:&#x2F;&#x2F;github.com&#x2F;cavaliercoder&#x2F;grab.git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;В Idea может потребоваться реиндексация, чтобы она обновила свои кэши по зависимостям: &lt;code&gt;File &amp;gt; Invalidate caches&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Готово.&lt;&#x2F;p&gt;

                </turbo:content>
            
        </item>
        
        
    </channel>
</rss>
