<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- SEO -->
  
<title>Как починить ошибку Inaccessible VM в VirtualBox и Vagrant | Блог TinyOps</title>


  
<meta name="Description" content="Как вывести виртуальную машину Vagrant из состояния ошибки &#x27;inaccessible vm&#x27;.">


  
  <meta property="og:url" content="https:&#x2F;&#x2F;b.tinyops.ru" />
  

  
  <meta property="og:title" content="Блог TinyOps" />
  

  
<meta property="og:description" content="Как вывести виртуальную машину Vagrant из состояния ошибки &#x27;inaccessible vm&#x27;."/>


  
  <meta property="og:type" content="blog" />
  

  

  <link rel="icon" type="image&#x2F;vnd.microsoft.icon" href="/favicon.ico">

  
    
        <!-- Yandex.Webmaster Verification Code -->
        <meta name="yandex-verification" content="578eb2cc5cb8a301" />
    


  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!--  css -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat:wght@700&display=swap"
        rel="stylesheet">

  <!-- theme -->
  <link rel="stylesheet" href="https:&#x2F;&#x2F;b.tinyops.ru/tinyblog.css">

  
</head>

<body>

<nav id="overlord" class="overlord">
  
<div id="logo" class="p-4">
    <a href="https:&#x2F;&#x2F;b.tinyops.ru" title="Вернуться на главную страницу">
        <i class="logo__icon fas fa-chevron-left mr-1"></i> < Назад
    </a>
</div>

</nav>

<section class="container">
  
  <h1 class="page-title mt-0">
    Как починить ошибку Inaccessible VM в VirtualBox и Vagrant
  </h1>
  
<div class="frontmatter font-weight-bold">
    <div class="d-inline-block">
        <time class="article_time" datetime="2020-05-10">May 10, 2020</time>.
    </div>

    <div class="d-inline-block article_time"> Время чтения &mdash; 2 мин.</div>
</div>


  <div class="mb-3 mt-3">
    
      <a class="btn btn-tiny btn-light" href="/tags/virtualbox/">virtualbox</a>
    
      <a class="btn btn-tiny btn-light" href="/tags/vagrant/">vagrant</a>
    
  </div>

  <p>Я поймал эту проблему однажды когда поднимал виртуальную машину с помощью Vagrant:</p>
<blockquote>
<p>Your VM has become &quot;inaccessible&quot;. Unfortunately, this is a critical error with VirtualBox that Vagrant 
can not cleanly recover from. Please open VirtualBox and clear out your 
inaccessible virtual machines or find a way to fix them.</p>
</blockquote>
<p>Virtual Box маркирует виртуальную машину как <code>inaccessible</code> если не может её запустить и 
не может сформулировать пользователю в чем же дело.</p>
<p>Умники в интернетах конечно же предлагаю пересоздать машину с нуля, наподобие умников на форумах Microsoft. 
Вторые, при малейшем недомогании, обычно рекомендуют переустановить ОС :)</p>
<p>Для начала посмотрим список виртуальных машин:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">$</span><span style="color:#c0c5ce;"> VBoxManage list vms</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">
&quot;</span><span style="color:#a3be8c;">prometheus_default_1562491030033_47028</span><span style="color:#c0c5ce;">&quot; {b8c2eec3-e3e2-4d7b-9ee4-9f09d7691a71}</span><span style="color:#c0c5ce;">
&quot;</span><span style="color:#a3be8c;">bamboo-agent-centos7_default_1568705322865_68355</span><span style="color:#c0c5ce;">&quot; {fcc600be-859a-430e-8da2-f3ff8dfa2d9f}</span><span style="color:#c0c5ce;">
&quot;</span><span style="color:#a3be8c;">&lt;inaccessible&gt;</span><span style="color:#c0c5ce;">&quot; {4fb4e265-61cb-4ce8-d3c4-de5f2daea7f8}</span><span style="color:#c0c5ce;">
&quot;</span><span style="color:#a3be8c;">supervisor-jolokia_default_1572425247238_89749</span><span style="color:#c0c5ce;">&quot; {ee47977e-11f2-47b4-a2af-756cfff524f2}</span><span style="color:#c0c5ce;">
</span></pre>
<p>Запоминаем уникальный ID проблемной виртуальной машины - <code>4fb4e265-61cb-4ce8-d3c4-de5f2daea7f8</code>. </p>
<p>Далее удаляем регистрацию виртуальной машины в недрах VirtualBox:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">VBoxManage</span><span style="color:#c0c5ce;"> unregistervm 4fb4e265-61cb-4ce8-d3c4-de5f2daea7f8</span><span style="color:#c0c5ce;">
</span></pre>
<p>И снова регистрируем:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">VBoxManage</span><span style="color:#c0c5ce;"> registervm 4fb4e265-61cb-4ce8-d3c4-de5f2daea7f8</span><span style="color:#c0c5ce;">
</span></pre>
<p>Теперь можно поднять машину как и планировали первоначально:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">vagrant</span><span style="color:#c0c5ce;"> up</span><span style="color:#c0c5ce;">
</span></pre><h3 id="chto-delat-esli-u-menia-neskol-ko-problemnykh-mashin">Что делать если у меня несколько проблемных машин?</h3>
<p>Бывают ситуации когда машин со статусом <code>inaccessible</code> может быть более чем одна. Можно перерегистрировать все, либо
найти UUID для проблемной машины.</p>
<p><strong>Решение для Vagrant:</strong></p>
<p>Заходим в каталог с Vagrantfile и читаем UUID:</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">$</span><span style="color:#c0c5ce;"> cat .vagrant/machines/default/virtualbox/id</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">
</span><span style="color:#bf616a;">4fb4e265-61cb-4ce8-d3c4-de5f2daea7f8</span><span style="color:#c0c5ce;">
</span></pre>
<p>На этом все.</p>

  
</section>

 

<footer class="mt-5 mb-5"></footer>



<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(56992924, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
    });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/56992924"
                    style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->


</body>
</html>
